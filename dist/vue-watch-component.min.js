!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.VueWatchComponent=n()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},i=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},u=function(){function t(e){n(this,t),this.options=o({},e),this.vm=null,this.unwatch=null}return e(t,[{key:"init",value:function(t){if(this.vm)throw new Error("[vue-watch-component] An instance can only be used on one component");var n=this.options,e={immediate:!0};r(n,"deep")&&(e.deep=n.deep);var o=!0,i=t.$watch(function(){return n.watch.call(t)},function(e,i){o&&!0!==n.immediate&&(o=!1,n.value===e)||("function"!=typeof n.handler||!r(n,"value")&&!0!==n.immediate||n.handler.call(t,e,i),n.value=e)},e);this.vm=t,this.unwatch=i}},{key:"destroy",value:function(){this.vm=null,this.unwatch(),this.unwatch=null}}]),t}(),c=function(t,n){var e=t.$options.watchComponents;i(e)&&e.forEach(function(t){n(t)})};return u.install=function(t){t.mixin({created:function(){var t=this;c(this,function(n){return n.init(t)})},activated:function(){var t=this;c(this,function(n){return n.init(t)})},deactivated:function(){var t=this;c(this,function(n){return n.destroy(t)})},beforeDestroy:function(){var t=this;c(this,function(n){return n.destroy(t)})}})},u.version="0.0.1","object"===("undefined"==typeof window?"undefined":t(window))&&window.Vue&&window.Vue.use(u),u});
//# sourceMappingURL=vue-watch-component.min.js.map
