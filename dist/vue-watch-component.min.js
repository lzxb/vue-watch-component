!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n["vue-watch-component"]=t()}(this,function(){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(){function n(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}}(),o=function(){function n(){t(this,n),this.watches=[],this.components=[],this.componentsSubs=[]}return e(n,[{key:"add",value:function(n){this.watches.push(n)}},{key:"init",value:function(n){var t=this.watches.map(function(t){return n.$watch(function(){return t.watch.call(n)},function(e,o){e!==t.value&&(Object.prototype.hasOwnProperty.call(t,"value")&&t.handler.call(n,e,o),t.value=e)},{immediate:!0})});this.components.push(n),this.componentsSubs.push(t)}},{key:"destroy",value:function(n){var t=this.components.indexOf(n);if(-1!==t){this.components.splice(t,1);this.componentsSubs.splice(t,1).forEach(function(n){n.forEach(function(n){return n()})})}}}]),n}(),i=function(n,t){var e=n.$options.watchComponents;Array.isArray(e)&&e.forEach(function(n){t(n)})};return o.install=function(n){n.mixin({created:function(){var n=this;i(this,function(t){return t.init(n)})},activated:function(){var n=this;i(this,function(t){return t.init(n)})},deactivated:function(){var n=this;i(this,function(t){return t.destroy(n)})},beforeDestroy:function(){var n=this;i(this,function(t){return t.destroy(n)})}})},"object"===("undefined"==typeof window?"undefined":n(window))&&window.Vue&&window.Vue.use(o),o});
//# sourceMappingURL=vue-watch-component.min.js.map
