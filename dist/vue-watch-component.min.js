!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.VueWatchComponent=n()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}();function o(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var i=function(){function t(){n(this,t),this.watches=[],this.components=[],this.componentsSubs=[]}return e(t,[{key:"add",value:function(t){return this.watches.push(t),this}},{key:"remove",value:function(t){var n=this.watches.indexOf(t);return n>-1&&this.watches.splice(n,1),this}},{key:"init",value:function(t){var n=this.watches.map(function(n){var e={immediate:!0};o(n,"deep")&&(e.deep=n.deep);var i=!0;return t.$watch(function(){return n.watch.call(t)},function(e,r){i&&!0!==n.immediate&&(i=!1,n.value==e)||("function"!=typeof n.handler||!o(n,"value")&&!0!==n.immediate||n.handler.call(t,e,r),n.value=e)},e)});this.components.push(t),this.componentsSubs.push(n)}},{key:"destroy",value:function(t){var n=this.components.indexOf(t);-1!==n&&(this.components.splice(n,1),this.componentsSubs.splice(n,1).forEach(function(t){t.forEach(function(t){return t()})}))}}]),t}(),r=function(t,n){var e,o=t.$options.watchComponents;(e=o,"[object Array]"===Object.prototype.toString.call(e))&&o.forEach(function(t){n(t)})};return i.install=function(t){t.mixin({created:function(){var t=this;r(this,function(n){return n.init(t)})},activated:function(){var t=this;r(this,function(n){return n.init(t)})},deactivated:function(){var t=this;r(this,function(n){return n.destroy(t)})},beforeDestroy:function(){var t=this;r(this,function(n){return n.destroy(t)})}})},i.version="0.0.1","object"===("undefined"==typeof window?"undefined":t(window))&&window.Vue&&window.Vue.use(i),i});
//# sourceMappingURL=vue-watch-component.min.js.map
